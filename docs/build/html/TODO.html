
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. TODO &#8212; pydeepgenomics 0.1 pre pre alpha documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1 pre pre alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="pydeepgenomics 0.1 pre pre alpha documentation" href="index.html" />
    <link rel="next" title="4. LICENSE" href="LICENSE.html" />
    <link rel="prev" title="2. What’s in here ?" href="description.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Pydeepgenomics</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="http://www.digitalepidemiologylab.org/">Digital Epidemiology Lab</a></li>
                <li><a href="./py-modindex.html">Modules</a></li>
                <li><a href="./genindex.html">Index</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Pydeepgenomics <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">1. README</a><ul>
<li class="toctree-l2"><a class="reference internal" href="README.html#brief-comment">1.1. Brief comment</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#usage">1.2. Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#limitations">1.3. Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#requirements">1.4. Requirements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="description.html">2. What&#8217;s in here ?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="description.html#preprocessing">2.1. Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="description.html#machine-learning">2.2. Machine Learning</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. TODO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-things-to-change-do">3.1. General things to change/do</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">3.2. Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#library">3.3. Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tests">3.4. Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">4. LICENSE</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Go to <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">3. TODO</a><ul>
<li><a class="reference internal" href="#general-things-to-change-do">3.1. General things to change/do</a></li>
<li><a class="reference internal" href="#documentation">3.2. Documentation</a></li>
<li><a class="reference internal" href="#library">3.3. Library</a><ul>
<li><a class="reference internal" href="#tools">3.3.1. Tools</a><ul>
<li><a class="reference internal" href="#generaltools">3.3.1.1. Generaltools</a></li>
<li><a class="reference internal" href="#generaldecorators">3.3.1.2. Generaldecorators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#preprocessing">3.3.2. Preprocessing</a><ul>
<li><a class="reference internal" href="#encoding">3.3.2.1. Encoding</a></li>
<li><a class="reference internal" href="#vcf">3.3.2.2. vcf</a></li>
<li><a class="reference internal" href="#subsets">3.3.2.3. Subsets:</a></li>
<li><a class="reference internal" href="#cutting">3.3.2.4. cutting:</a></li>
<li><a class="reference internal" href="#examples">3.3.2.5. Examples:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#tests">3.4. Tests</a><ul>
<li><a class="reference internal" href="#general">3.4.1. General</a></li>
<li><a class="reference internal" href="#id1">3.4.2. Tools</a><ul>
<li><a class="reference internal" href="#general-tools">3.4.2.1. General tools</a></li>
<li><a class="reference internal" href="#general-decorators">3.4.2.2. General decorators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">3.4.3. VCF</a><ul>
<li><a class="reference internal" href="#id3">3.4.3.1. vcf</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/TODO.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="todo">
<h1>3. TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-things-to-change-do">
<h2>3.1. General things to change/do<a class="headerlink" href="#general-things-to-change-do" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">recode the bash scripts in python</p>
</li>
<li><p class="first">assemble the scripts to have some small scripts who use the library and will serve as examples of how to use it</p>
</li>
<li><p class="first">write tests (everywhere !)</p>
</li>
<li><p class="first">decompose into smaller units</p>
</li>
<li><p class="first">Complete the documentation (docstring (<strong>google style standard</strong>) +
README + description s+ TODO (Yes, it&#8217;s here))</p>
</li>
<li><p class="first">replace the way the paths are written: use os.path.join, os.path.sep
instead of writing everything manually (Already started but not corrected
everywhere yet)</p>
</li>
<li><p class="first">add proper logging with the logging library instead of printing everything</p>
</li>
<li><p class="first">specify</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1">#-*- coding: utf-8 -*-</span>
</pre></div>
</div>
</div></blockquote>
<p>at the top of every files instead of forcing where to find python (more
portable)</p>
</li>
<li><p class="first">Don&#8217;t be lazy on exceptions raising (<em>Errors should never pass silently</em> !)</p>
</li>
<li><p class="first">Use a library to get the time spent in different functions, the number time they are called etc.</p>
</li>
<li><p class="first">Change the file <code class="code docutils literal"><span class="pre">settings_template.py</span></code> file to read only ?</p>
</li>
<li><p class="first">Move the requirement.txt building in a setup.py (And write the whole setup.py)</p>
</li>
<li><p class="first">Avoid trying to correct the name of the files to make them easier to read
(<em>e.g.</em> transforming <code class="code docutils literal"><span class="pre">name_name.txt</span></code> into <code class="code docutils literal"><span class="pre">name.txt</span></code>) &#8211;&gt; Some
places of the code still try to do that and it can add unwanted side
effects (it used to be clean on my specific work but it is not portable).
Plus it is the responsibility of the user to give clean files.</p>
</li>
<li><p class="first">Hide the complexity of some processes behind generators (Example: when we
process files, it might be cleaner to work with generators)</p>
</li>
<li><p class="first">Find a way to keep consistent file naming and tree structure conventions all over the project</p>
</li>
<li><p class="first">If we want to be more flexible on the file naming and tree structure, it might be interesting to give a file where the user can specify custom name patterns etc</p>
</li>
<li><p class="first">Clean old code commented and still present</p>
</li>
<li><p class="first">Make the whole thing quiet instead of having prints everywhere !</p>
</li>
</ul>
</div>
<div class="section" id="documentation">
<h2>3.2. Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Almost every modules still need to be documented ...</strong></li>
</ul>
</div>
<div class="section" id="library">
<h2>3.3. Library<a class="headerlink" href="#library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tools">
<h3>3.3.1. Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h3>
<div class="section" id="generaltools">
<h4>3.3.1.1. Generaltools<a class="headerlink" href="#generaltools" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><dl class="first docutils">
<dt>Recode the function list_elements:</dt>
<dd><ul class="first last">
<li>It should be cleaner</li>
<li>It should be able to handle a tuple, a list of extensions</li>
</ul>
</dd>
</dl>
</li>
<li>Add Exceptions (Incorrect path to list_elements, not a list of strings to _natural_sort ...)</li>
<li>Add options to the timers (<code class="docutils literal"><span class="pre">time_since_first_call</span></code> and
<code class="docutils literal"><span class="pre">time_since_last_call</span></code>) so that they can give the raw time and notsystematically the formatted time</li>
<li><code class="docutils literal"><span class="pre">_custom_output</span></code> should take care of the other possible options whenlogging is ready</li>
<li>Add some filters <code class="docutils literal"><span class="pre">get_nb_lines_file</span></code></li>
<li>Recode <code class="docutils literal"><span class="pre">_custom_output</span></code> so that it is complete and can handle logging</li>
</ul>
</div>
<div class="section" id="generaldecorators">
<h4>3.3.1.2. Generaldecorators<a class="headerlink" href="#generaldecorators" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>RAS for the moment</li>
</ul>
</div>
</div>
<div class="section" id="preprocessing">
<h3>3.3.2. Preprocessing<a class="headerlink" href="#preprocessing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Try to organise in coherent modules</li>
</ul>
<div class="section" id="encoding">
<h4>3.3.2.1. Encoding<a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Try to remove code duplication</p>
</li>
<li><p class="first">When iter in batch of elements use generator with this kind of solutions:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span><span class="p">,</span> <span class="n">islice</span>

<span class="k">def</span> <span class="nf">morceaux</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="n">taille</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="nb">tuple</span><span class="p">):</span>
    <span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">format</span><span class="p">(</span><span class="n">chain</span><span class="p">((</span><span class="nb">next</span><span class="p">(</span><span class="n">it</span><span class="p">),),</span> <span class="n">islice</span><span class="p">(</span><span class="n">it</span><span class="p">,</span> <span class="n">taille</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p class="first">Give the task of logging/printing information to a _function to lighten the code from unnecessary information (also calculation of the time points ...)</p>
</li>
<li><p class="first">Change the way the decoding of each position is done .......... It&#8217;s really
too slow (For the moment, 50000 position decoding require &gt; 2 minutes on my
computer...).</p>
</li>
<li><p class="first">Clean the function <code class="code docutils literal"><span class="pre">verify_decoding</span></code> to have smaller functional units and a code easier to read.</p>
</li>
<li><p class="first">Correct the hardcoded parts of the code so that it can handle other FIRST_ALLELE_BIT_POS</p>
</li>
</ul>
</div>
<div class="section" id="vcf">
<h4>3.3.2.2. vcf<a class="headerlink" href="#vcf" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>rewrite split.js in python and/or at least in a more portable version.</li>
<li>add tests</li>
<li>Change the name of this module to avoid confusion with the module name</li>
<li>Break into smaller functional units</li>
<li>Create a more general &#8220;get_nb_lines&#8221; in generaltool able to handle
the case used in the function &#8220;lines&#8221; ?</li>
</ul>
</div>
<div class="section" id="subsets">
<h4>3.3.2.3. Subsets:<a class="headerlink" href="#subsets" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Use the os, sys and shutil libraries instead of the os calls</li>
<li>Use a generator instead of doing some action on a list of files in a loop and
removing the last element processed after each round of the loop.</li>
</ul>
</div>
<div class="section" id="cutting">
<h4>3.3.2.4. cutting:<a class="headerlink" href="#cutting" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Finish this part and code of the corresponding example</li>
</ul>
</div>
<div class="section" id="examples">
<h4>3.3.2.5. Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Check size of the vcf files folder before making a copy</li>
<li>Clean playground when script is over ?</li>
<li>verify which version of node is needed</li>
<li>Add the second part of example 4</li>
</ul>
</div>
</div>
</div>
<div class="section" id="tests">
<h2>3.4. Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>3.4.1. General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Note: the tests were added a few months after the beginning of the project, thus their sparsity and the difficulty to test some functions</li>
<li>In general, add new cases to be tested for the different test sets to be
sure that the extreme cases are taken into account.</li>
<li>I used unittest to familiarize myself with unit testing but it would be better
to have everything in py.test or nose later.</li>
</ul>
</div>
<div class="section" id="id1">
<h3>3.4.2. Tools<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="general-tools">
<h4>3.4.2.1. General tools<a class="headerlink" href="#general-tools" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Document the tests ?</li>
<li>Add tests to be sure the functions which manage files handle both relative and absolute paths</li>
<li>Check that all functions raise the correct errors when given the wrong
arguments</li>
</ul>
</div>
<div class="section" id="general-decorators">
<h4>3.4.2.2. General decorators<a class="headerlink" href="#general-decorators" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Prepare tests for the</li>
<li>Document the tests</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h3>3.4.3. VCF<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id3">
<h4>3.4.3.1. vcf<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Do everything !</li>
<li>(But first the vcf module may be broken into smaller units so that unit testing has a sens ...)</li>
<li>Document the tests</li>
</ul>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, Digital Epidemiology Lab.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.8.<br/>
    </p>
  </div>
</footer>
  </body>
</html>